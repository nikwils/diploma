(()=>{"use strict";var e,t,n,o,c,l,d;l=document.getElementById("callback"),d=document.querySelector(".modal-overlay"),l.addEventListener("click",(function(e){e.target.matches("#modal-close")&&(l.style.display="none",d.style.display="none")})),document.addEventListener("click",(function(e){var t=e.target;(t.matches("#modal-close")||t.closest(".modal-overlay"))&&(l.style.display="none",d.style.display="none"),(t.matches("#popup")||t.closest(".col-sm-6")||t.matches(".invert"))&&(l.style.display="block",d.style.display="block")})),(c=document.querySelectorAll(".item"))[0].hidden=!1,o=1,setInterval((function(){c.forEach((function(e){return e.hidden=!0})),c[o].hidden=!1,++o===c.length&&(o=0)}),3e3),t=document.querySelector(".accordeon"),n=document.querySelectorAll(".accordeon > .element"),document.querySelectorAll(".accordeon > .element-content"),t.addEventListener("click",(function(e){var t=e.target;console.log(t),t.matches(".title")&&(n.forEach((function(e){e.classList.remove("active"),e.lastElementChild.style.display="none"})),t.closest(".element").classList.add("active"),t.closest(".element").lastElementChild.style.display="block")})),e=document.querySelector(".span-up"),document.getElementById("up"),window.addEventListener("scroll",(function(){e.hidden=pageYOffset<document.documentElement.clientHeight})),e.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),function(){document.querySelector(".services-carousel");var e=document.querySelectorAll(".col-sm-6"),t=document.querySelector(".services-arrow"),n=document.querySelector(".arrow-left"),o=document.querySelector(".arrow-right"),c=0;t.addEventListener("click",(function(t){t.preventDefault();var l,d,r=t.target;l=e,(d=c)<=1&&(n.hidden=!0,l[0].hidden=!1,l[3].hidden=!0),o.hidden=!1,d>1&&(l[d-1].hidden=!1,l[d+2].hidden=!0),console.log(d),r.matches(".arrow-left")&&--c<0&&(c=0),r.matches(".arrow-right")&&c++,function(e,t){n.hidden=!1,t>0&&(e[t-1].hidden=!0,e[t+2].hidden=!1,3===t&&(e[t+1].hidden=!1,e[t-2].hidden=!0)),3===t&&(o.hidden=!0)}(e,c),console.log(c)}))}(),function(){var e=document.createElement("div"),t=document.getElementById("form-callback"),n=document.getElementById("callback"),o=document.querySelector(".modal-overlay");t.addEventListener("submit",(function(l){e.style.cssText="font-size: 2rem;",l.target,l.preventDefault(),e.hidden=!1,e.textContent="Загрузка",t.appendChild(e);var d=new FormData(t),r={};d.forEach((function(e,t){r[t]=e})),c(r).then((function(t){if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо! Мы скоро с вами свяжемся",setTimeout((function(){n.style.display="none",o.style.display="none"}),6e3),setTimeout((function(){e.hidden=!0}),4e3)})).catch((function(t){e.textContent="Что-то пошло не так...",console.error(t)}))}));var c=function(e){return document.querySelectorAll("input").forEach((function(e,t){2==t&&(e.value="Отправить"),e.value="",2==t&&(e.value="Отправить")})),fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}(),function(){var e=document.getElementById("callback"),t=document.getElementById("fio");e.addEventListener("input",(function(e){var n=e.target;n.matches("#fio")&&(n.value=n.value.replace(/\w/g,""),t.addEventListener("change",(function(){n.value=n.value.replace(/(^|\s)\S/g,(function(e){return e.toUpperCase()}))}))),n.matches("#tel")&&(n.value=n.value.replace(/[^0-9\+]/g,""))}))}()})();